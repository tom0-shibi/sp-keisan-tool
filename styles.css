/* 共通 */
body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
}

/* ヘッダー */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 16px;
  background-color: #f0f0f0;
}

.header-left {
  display: flex;
  align-items: center;
  gap: 12px;
}

.header-info {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-left: 12px;
  margin-top: auto;
  margin-bottom: auto;
}

.header-right {
  position: relative;
}

#menuButton {
  font-size: 24px;
  cursor: pointer;
}

#menuList {
  position: absolute;
  right: 0;
  top: 36px;
  background-color: #fff;
  border: 1px solid #ccc;
  list-style: none;
  padding: 8px 0;
  margin: 0;
  min-width: 160px;
  z-index: 1000;
}

#menuList li {
  padding: 6px 16px;
  cursor: pointer;
}

#menuList li:hover {
  background-color: #eee;
}

.hidden { display: none; }

.container { max-width: 1180px; padding: 12px; }

/* ヘッダーセル幅指定（th） */
.th-empty { width: 40px; }
.th-category { width: 150px; }
.th-skill { width: 280px; }
.th-sp { width: 80px; }
.th-hint { width: 100px; }
.th-tags { width: 160px; }
.th-explain { width: 420px; }

/* テーブル */
table { width: 100%; border-collapse: collapse; margin-top: 16px; }
th, td { border: 1px solid #ccc; padding: 4px 8px; text-align: left; vertical-align: middle; }

/* td にクラスが付与されている前提 -> 正しいセレクタは td.xxx */
td.sp, td.hint-level, td.category { text-align: center; vertical-align: middle; }

/* スキル名 + クリアボタンラップ */
.skill-name-container, .skill-input-wrapper {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* スキル入力ラッパー: クリアボタンを input 内に重ねるため position:relative */
.skill-input-wrapper {
  position: relative;
}

/* 入力の右側にクリアボタンのスペースを確保 */
.skill-input-wrapper .skill-input {
  padding-right: 38px; /* ボタン幅 + マージン */
}

/* クリアボタンを入力内に重ねて配置 */
.btn-clear-skill {
  position: absolute;
  right: 6px;
  top: 50%;
  transform: translateY(-50%);
  height: auto;
  padding: 0 6px;
  line-height: 1;
  border: none;
  background: transparent;
  cursor: pointer;
  font-weight: 600;
  color: #444;
}

.btn-clear-skill:hover { background: rgba(0,0,0,0.04); border-radius: 4px; }

/* suggestion box item (small polish) */
.skill-suggestions { font-family: inherit; border-radius: 4px; }
.skill-suggestion-item { user-select: none; }

/* 効果（tags）: 幅160px, 最大2行、超過は省略 */
td.tags {
  max-width: 160px;
  padding: 6px 8px;
}
.tags-clamp {
  max-width: 160px;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: break-word;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  white-space: normal;
  max-height: 66px;
}

/* 説明（explain）: 幅420px, 最大2行, 超過省略（…）, title に全文） */
td.explain {
  max-width: 420px;
  padding: 6px 8px;
}
.explain-clamp {
  max-width: 420px;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: break-word;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  white-space: normal;
  max-height: 66px;
}

/* tr dragging visual (keeps existing drag behavior) */
tr.dragging { opacity: 0.6; }

/* 追加の小整形（選択肢/choices 無関係） */
.choices { margin-bottom: 0 !important; }

/* --------------------- モーダル（スロット UI） -------------------- */
/* modal は基本表示（他の CSS に負けないよう !important）、
   hidden クラスで非表示を管理する */
.modal {
  position: fixed;
  inset: 0;
  display: flex !important;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.45);
  z-index: 2000;
  padding: 16px;
}
.modal.hidden { display: none !important; }

.modal .modal-content {
  background: #fff;
  border-radius: 8px;
  width: 920px;
  max-width: calc(100% - 40px);
  max-height: calc(100% - 40px);
  overflow: auto;
  box-shadow: 0 6px 30px rgba(0,0,0,0.25);
  padding: 12px;
}
.modal .small-modal { width: 620px; }

.modal-header { display:flex; justify-content:space-between; align-items:center; gap:12px; padding-bottom:8px; border-bottom:1px solid #eee; }
.modal-header h3 { margin:0; }
.btn-close { background:transparent; border:none; font-size:18px; cursor:pointer; }

.modal-body { padding:12px 0; }
.modal-footer { display:flex; justify-content:flex-end; gap:8px; padding-top:8px; border-top:1px solid #eee; }

.slot-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 10px;
}
.slot-card {
  border: 1px solid #ddd;
  border-radius: 6px;
  padding: 8px;
  background: #fafafa;
  min-height: 72px;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  transition: box-shadow .12s, transform .06s;
  cursor: pointer;
}
.slot-card:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.06); transform: translateY(-2px); }
.slot-card.selected { border-color: #1976d2; box-shadow: 0 6px 18px rgba(25,118,210,0.12); background: #eef6ff; }
.slot-card .slot-num { font-weight:700; }
.slot-card .slot-title { font-size:14px; max-width:100%; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.slot-card .slot-meta { font-size:12px; color:#666; }
.slot-card .slot-preview { font-size:12px; color:#333; margin-top:6px; max-height:36px; overflow:hidden; }

/* Save editor */
.slot-editor { margin-top: 12px; border-top:1px dashed #eee; padding-top:10px; }

/* inline confirm area inside modal */
.slot-modal-message { margin-top:10px; min-height:20px; color: #1f7a1f; }

/* share modal small tweaks */
#shareUrlInput { width: 100%; padding:8px; }